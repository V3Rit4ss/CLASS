-- [ XII ]  트랜젝션 명령어. COMMIT;  ROLLBACK; SAVEPOINT;
COMMIT; 
SELECT * FROM DEPT01;
DROP TABLE DEPT01;
CREATE TABLE DEPT01
    AS SELECT * FROM DEPT;
SELECT * FROM DEPT01; --10 ~40 다 있음
DELETE FROM DEPT01; --데이터 삭제.
SELECT * FROM DEPT01;
ROLLBACK; -- 롤백.  하고 COMMIT 하면 완전히 끝나서 롤백 불가.
SELECT * FROM DEPT01;
---새로운 트랜젝션 시작.
DELETE FROM DEPT01 WHERE DEPTNO = 40;
SELECT * FROM DEPT01;
COMMIT;  -- 커밋.
--새로운 트랜젝션 시작.
DELETE FROM DEPT01 WHERE DEPTNO =30;
SELECT * FROM DEPT01;  -- 10~20 만 살아남음.
SAVEPOINT C1;  -- C1 지점 = 10,20번 부서.
DELETE FROM DEPT01 WHERE DEPTNO = 20;
SELECT * FROM DEPT01;
SAVEPOINT C2 ; --C2 지점 = 10번 부서.
DELETE FROM DEPT01 WHERE DEPTNO = 10;
SELECT * FROM DEPT01; -- 데이터 없는 상태.
ROLLBACK TO C2;
SELECT * FROM DEPT01 ;
ROLLBACK TO C1;
SELECT * FROM DEPT01; --10,20 만 남아있음.
COMMIT;

















































