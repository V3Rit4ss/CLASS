<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
        $(function () {

            //뿌려질 사칙연산.
            var OperatorArray = ['+', '/', '-', '*'];
            $('#n1').val(parseInt(Math.random() * 10));
            $('#n2').val(parseInt(Math.random() * 10));
            var OpIdx = parseInt(Math.random() * 4); // 0~3 배열에서 찾는거라 0~3번까지의 숫자가 필요하다.
            $('#operation').html('<b>' + OperatorArray[OpIdx] + '</b>');

            
            $('#cal').click(function () {
                // 정답 계산부분
                var n1 = Number($('#n1').val());
                var n2 = Number($('#n2').val());
                var answerTemp = [n1 + n2, n1 / n2, n1 - n2, n1 * n2];
                var answer = answerTemp[OpIdx];
                if (!isFinite(answer)) {
                    $('.result').html('아이코 이런; 죄송합니다~');
                } else if ($('#answer').val() != '' && $('#answer').val() == answer) {
                    $('.result').html('정답입니다.').css('color', 'blue');
                } else {
                    $('.result').html('틀렸습니다.').css('color', 'red');
                }

            });
            $('#reset').click(function () {
                $('#n1').val(parseInt(Math.random() * 10));
                $('#n2').val(parseInt(Math.random() * 10));
                OpIdx = parseInt(Math.random() * 4);
                $('#operation').html('<b>' + OperatorArray[OpIdx] + '</b>');
                $('#answer').val('');
                $('.result').text('');
            });

        });
    </script>
    <style>
        p, h1 {
            text-align: center;
        }

        button {
            padding: 10px;
            margin: 10px 40px;
        }
    </style>
</head>
<body>
    <p>
        2단계 :
        <input type="text" id="n1" size="5" readonly="readonly" />
        <span id="operation"></span>
        <input type="text" id="n2" size="5" /> =
        <input type="text" id="answer" size="5" placeholder="답" />
    </p>

    <p>
        <button id="reset">Hey,Retry?</button>
        <button id="cal">Result.</button>
    </p>
    <hr />
    <h1 class="result"></h1>
</body>
</html>